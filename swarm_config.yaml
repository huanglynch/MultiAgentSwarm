openai:
  default_model: "gpt-4o-mini"
  default_max_tokens: 4096

swarm:
  mode: "intelligent"                    # 运行模式: "fixed" 或 "intelligent"
  num_agents: 4                          # 使用的 Agent 数量
  max_concurrent_agents: 2               # 最大并发执行的 Agent 数量
  max_rounds: 12                         # 最大讨论轮次

  reflection_planning: true              # 是否启用反思机制

  # 功能开关
  enable_web_search: false               # 是否启用网络搜索
  max_images: 2                          # 最多支持的图片数量

  # 存储配置
  memory_file: "memory.json"             # 持久化记忆文件
  max_memory_items: 50                   # 每个 key 最多保存的记忆条数
  skills_dir: "skills"                   # Skills 目录
  log_file: "swarm.log"                  # 日志文件

  # 向量记忆配置
  vector_memory:
    enabled: true                        # 是否启用向量记忆
    persist_directory: "./memory_db"     # ChromaDB 数据库路径
    model_cache_dir: "./cached_model/"   # 向量模型缓存目录
    embedding_model: "sentence-transformers/distiluse-base-multilingual-cased-v2"

# ============================================================
# ✨ 高级增强功能配置
# ============================================================
advanced_features:
  # 对抗式辩论（Pro vs Con vs Judge）
  adversarial_debate:
    enabled: true                        # ✅ 默认启用
    description: "多角色对抗式辩论机制"

  # Meta-Critic（元批评者）
  meta_critic:
    enabled: true                        # ✅ 默认启用
    description: "综合评估与元反思"

  # 任务分解与动态 Agent 工厂
  task_decomposition:
    enabled: true                        # ✅ 默认启用
    description: "自动将任务分解为子任务并分配"

  # 主动知识图谱 + 蒸馏
  knowledge_graph:
    enabled: true                        # ✅ 默认启用
    description: "提取关键概念并构建知识网络"

  # 自适应反思深度
  adaptive_reflection:
    enabled: true                        # ✅ 默认启用
    max_rounds: 3                        # 最多反思轮次
    quality_threshold: 85                # 立即停止阈值（0-100）
    stop_threshold: 80                   # 可接受停止阈值
    convergence_delta: 3                 # 质量收敛判定阈值（小于此值视为停滞）
    description: "根据质量动态调整反思深度"

# ✨ 智能路由配置
intelligent_routing:
  enabled: true                        # ✅ 默认启用智能路由
  force_complexity: null               # 可选: "simple"/"medium"/"complex" (调试用)

# ==================== 全局共享知识（所有 Agent 都会看到） ====================
shared_knowledge: |
  【文件探索铁律 - 必须严格遵守】
  1. 任何时候想查看项目结构、文件、报告，必须**第一步先调用 get_project_structure()**。
  2. 绝不要盲目猜测目录（如 data/、outputs/、reports/、skills/）。
  3. 得到结构后再决定使用 read_file / list_dir / write_file。
  
  【输出规范】
  - 所有最终答案必须使用清晰的 Markdown 结构。
  - 发现不确定信息时，必须主动声明「基于现有信息」。

  【反思机制】
  - 每次贡献前，先用 [CRITIQUE] 标记指出上一轮的 1 个漏洞或可改进点。

# ============================================================
# Agent 配置
# ============================================================
agents:
  - name: Grok
    role: "你是团队领导者，风格幽默实用，负责协调与最终高质量输出。"
    api_key: "sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
    base_url: "https://api.openai.com/v1"
    model: "gpt-4o"
    temperature: 0.75
    stream: true
    max_tokens: 8192
    enabled_tools: ["read_file", "write_file", "list_dir", "web_search"]

  - name: Harper
    role: "你是创意研究员，专注新颖想法和跨领域洞见。"
    api_key: "sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
    base_url: "https://api.openai.com/v1"
    model: "gpt-4o-mini"
    temperature: 0.9
    stream: true
    max_tokens: 4096
    enabled_tools: ["read_file", "list_dir"]

  - name: Benjamin
    role: "你是严谨逻辑分析师，专注事实检查和严密推理。"
    api_key: "sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
    base_url: "https://api.deepseek.com"
    model: "deepseek-chat"
    temperature: 0.5
    stream: false
    max_tokens: 4096
    enabled_tools: ["list_dir"]

  - name: Lucas
    role: "你是执行与总结专家，擅长把观点整合成可落地方案。"
    api_key: "sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
    base_url: "https://api.openai.com/v1"
    model: "gpt-4o-mini"
    temperature: 0.65
    stream: true
    max_tokens: 4096
    enabled_tools: ["write_file"]
